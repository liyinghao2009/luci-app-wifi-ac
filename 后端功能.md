# luci-app-wifi-ac 后端功能梳理

## 1. 设备管理模块

**已完善功能：**
- 设备列表/详情API，支持多条件筛选、实时状态
- 批量操作API（重启/升级/同步），支持进度与失败重试
- 自动发现（UDP/mDNS/HTTP注册，需AP端配合）
- 设备注册/删除、WebSocket推送

**待完善功能及建议：**
- 自动发现跨网段支持：完善mDNS/HTTP注册发现，AP端需实现mDNS responder/主动注册
- 设备添加重复检测：后端校验MAC/IP唯一性
- 设备状态推送优化：WebSocket推送结构标准化，支持增量/全量

## 2. 性能优化模块

**已完善功能：**
- 自动信道分配/负载均衡（基础算法，支持批量下发）
- 手动信道/功率分配API
- 优化任务队列、进度与日志反馈
- 策略模板管理与批量应用
- 信道热力图、趋势数据API（部分为示例数据）

**待完善功能及建议：**
- 复杂负载均衡/干扰感知算法：实现高级无线环境感知，支持邻居AP干扰、动态负载均衡
- AP端根据阈值主动限制接入：需AP端固件/脚本配合，AC端下发配置后AP端执行
- 趋势数据历史采集与持久化：完善定时采集脚本，持久化到sqlite3或json
- 操作权限细粒度控制：API按角色/操作类型校验权限

## 3. 固件升级与日志系统

**已完善功能：**
- 固件仓库管理（上传、哈希校验、版本管理）
- 批量升级队列、升级状态实时监控
- 日志分类与高级查询、导出CSV/PDF
- WebSocket实时告警推送、日志结构含用户字段

**待完善功能及建议：**
- 断点续传与失败回滚：需AP端支持分块传输、断点续传，AC端下发命令并跟踪状态
- 日志轮转与自动清理：实现日志归档/清理脚本，防止日志无限增长
- 日志API权限细粒度控制：按用户/角色校验API权限

## 4. 系统设置与仪表盘

**已完善功能：**
- 基础参数、RADIUS、模板、权限、恢复出厂、存储策略API
- 仪表盘全局状态、滚动通知、信号分布、负载趋势API

**待完善功能及建议：**
- 权限管理细粒度控制：角色/操作级别权限配置，API校验
- 仪表盘趋势数据采集持久化：完善采集脚本，支持多指标、历史查询

## 5. 其他建议

- API接口RESTful标准化，参数/返回结构统一
- 支持HTTPS通信，接口签名与白名单机制
- 跨网段自动发现多方式结合
- 三方AP适配接口预留，便于后续扩展

